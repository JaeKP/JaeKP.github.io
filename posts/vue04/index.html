<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="v-model을-활용하여-멀티-레인지-슬라이더-만들기" /><meta name="author" content="박재경" /><meta property="og:locale" content="ko" /><meta name="description" content="칵테일 검색 필터를 구현하던 중 도수의 범위를 지정하기 위해서 멀티 레인지 슬라이더가 필요했다. 몇번의 구글링 결과 도움이 되는 블로그를 찾았고 이를 기반으로 vue3에서 어떻게 멀티 레인지 슬라이더를 만들 수 있는지 정리해보았다." /><meta property="og:description" content="칵테일 검색 필터를 구현하던 중 도수의 범위를 지정하기 위해서 멀티 레인지 슬라이더가 필요했다. 몇번의 구글링 결과 도움이 되는 블로그를 찾았고 이를 기반으로 vue3에서 어떻게 멀티 레인지 슬라이더를 만들 수 있는지 정리해보았다." /><link rel="canonical" href="https://jaekp.github.io/posts/vue04/" /><meta property="og:url" content="https://jaekp.github.io/posts/vue04/" /><meta property="og:site_name" content="Hello, World!" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-07-30T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="v-model을-활용하여-멀티-레인지-슬라이더-만들기" /><meta name="google-site-verification" content="LP7vGYSUszERSVMH1MoT4NXRTCcbUaUtfFm_pOYcoQ4" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"박재경"},"dateModified":"2022-07-30T00:00:00+09:00","datePublished":"2022-07-30T00:00:00+09:00","description":"칵테일 검색 필터를 구현하던 중 도수의 범위를 지정하기 위해서 멀티 레인지 슬라이더가 필요했다. 몇번의 구글링 결과 도움이 되는 블로그를 찾았고 이를 기반으로 vue3에서 어떻게 멀티 레인지 슬라이더를 만들 수 있는지 정리해보았다.","headline":"v-model을-활용하여-멀티-레인지-슬라이더-만들기","mainEntityOfPage":{"@type":"WebPage","@id":"https://jaekp.github.io/posts/vue04/"},"url":"https://jaekp.github.io/posts/vue04/"}</script><title>v-model을-활용하여-멀티-레인지-슬라이더-만들기 | Hello, World!</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Hello, World!"><meta name="application-name" content="Hello, World!"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/mococo.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Hello, World!</a></div><div class="site-subtitle font-italic">난 재경쓰!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/JaeKP" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['jkp71192','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>v-model을-활용하여-멀티-레인지-슬라이더-만들기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>v-model을-활용하여-멀티-레인지-슬라이더-만들기</h1><div class="post-meta text-muted"><div> By <em> 박재경 </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1659106800" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-07-30 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2281 words"> <em>12 min</em> read</span></div></div></div><div class="post-content"><p><br /></p><blockquote class="prompt-info"><div><p>칵테일 검색 필터를 구현하던 중 도수의 범위를 지정하기 위해서 멀티 레인지 슬라이더가 필요했다. 몇번의 구글링 결과 도움이 되는 블로그를 찾았고 이를 기반으로 vue3에서 어떻게 멀티 레인지 슬라이더를 만들 수 있는지 정리해보았다.</p></div></blockquote><p><a href="https://codingsalon.tistory.com/104">참고한 블로그</a></p><p><br /></p><h2 id="1-슬라이더-마크업"><span class="mr-2">1) 슬라이더 마크업</span><a href="#1-슬라이더-마크업" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>슬라이더는 track과 thumb로 구성되어 있다. 멀티 레인지를 만들기 위해서는 아래와 같은 input을 겹쳐 thumb를 2개로 만들어 구현할 수 있다.</p><p><img data-src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/image-20220730231617106.png" alt="image-20220730231617106" data-proofer-ignore></p><p><br /></p><h3 id="1-슬라이더를-만든다"><span class="mr-2">(1) 슬라이더를 만든다.</span><a href="#1-슬라이더를-만든다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"cocktail-search-filter-slider"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- 진짜 슬라이더 --&gt;</span>
    <span class="nt">&lt;input</span>
      <span class="na">type=</span><span class="s">"range"</span>
      <span class="na">id=</span><span class="s">"slider-left"</span>
      <span class="na">max=</span><span class="s">"30"</span>
      <span class="na">min=</span><span class="s">"0"</span>
      <span class="na">value=</span><span class="s">6</span>
    <span class="nt">/&gt;</span>
    <span class="nt">&lt;input</span>
      <span class="na">type=</span><span class="s">"range"</span>
      <span class="na">id=</span><span class="s">"slider-right"</span>
      <span class="na">max=</span><span class="s">"30"</span>
      <span class="na">min=</span><span class="s">"0"</span>
      <span class="na">value=</span><span class="s">15</span>
    <span class="nt">/&gt;</span>

    <span class="c">&lt;!-- 가짜 슬라이더 --&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider-line"</span><span class="nt">&gt;&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider-range"</span> <span class="na">:style=</span><span class="s">"rangeStyle"</span><span class="nt">&gt;&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider-left"</span> <span class="na">:style=</span><span class="s">"leftThumbStyle"</span><span class="nt">&gt;&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider-right"</span> <span class="na">:style=</span><span class="s">"rightThumbStyle"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>
</pre></table></code></div></div><ol><li><code class="language-plaintext highlighter-rouge">&lt;input type="range"&gt;</code>인 슬라이더 2개를 만든다. (진짜 슬라이더)<ul><li>왼쪽 thumb이 될 슬라이더<li>오른쪽 thumb 될 슬라이더</ul><li>사용자에게 보일 가짜 슬라이더를 만든다. (가짜 슬라이더)<li>슬라이더를 다 겹치게 한다.</ol><p><strong>아래처럼 진짜 슬라이드 2개와 가짜 슬라이더를 다 겹치게 한다.</strong></p><p><img data-src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/image-20220730224131450.png" alt="image-20220730224131450" data-proofer-ignore></p><p><br /></p><p><img data-src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/vue-multi-range-input-5.gif" alt="vue-multi-range-input-5" data-proofer-ignore></p><p><br /></p><h3 id="2-가짜-슬라이더만-보이게-한다"><span class="mr-2">(2) 가짜 슬라이더만 보이게 한다.</span><a href="#2-가짜-슬라이더만-보이게-한다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
 <span class="c">&lt;!-- 생략 --&gt;</span> 
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span> <span class="na">setup</span> <span class="na">lang=</span><span class="s">"ts"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">style</span> <span class="na">scoped</span> <span class="na">lang=</span><span class="s">"scss"</span><span class="nt">&gt;</span>
<span class="cm">/* 진짜 슬라이더 */</span>
<span class="nc">.cocktail-search-filter-slider</span> <span class="p">{</span>
  <span class="k">@include</span> <span class="nd">flex</span><span class="p">(</span><span class="n">column</span><span class="p">);</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">95%</span><span class="p">;</span>
  <span class="nt">input</span> <span class="p">{</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">z-index</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="no">black</span><span class="p">;</span>
    <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">appearance</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="nl">pointer-events</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>

    <span class="cm">/* thumb에만 설정을 한다. (크롬) */</span>
    <span class="k">&amp;</span><span class="nd">::-webkit-slider-thumb</span> <span class="p">{</span>
      <span class="nl">z-index</span><span class="p">:</span> <span class="m">10</span><span class="p">;</span>
      <span class="nl">width</span><span class="p">:</span> <span class="m">32px</span><span class="p">;</span>
      <span class="nl">height</span><span class="p">:</span> <span class="m">32px</span><span class="p">;</span>
      <span class="nl">background-color</span><span class="p">:</span> <span class="no">black</span><span class="p">;</span>
      <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>
      <span class="nl">appearance</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
      <span class="nl">pointer-events</span><span class="p">:</span> <span class="n">all</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="cm">/*thumb에만 설정을 한다. (파이어 폭스) */</span>
    <span class="k">&amp;</span><span class="nd">::-moz-range-thumb</span> <span class="p">{</span>
      <span class="nl">z-index</span><span class="p">:</span> <span class="m">10</span><span class="p">;</span>
      <span class="nl">width</span><span class="p">:</span> <span class="m">32px</span><span class="p">;</span>
      <span class="nl">height</span><span class="p">:</span> <span class="m">32px</span><span class="p">;</span>
      <span class="nl">background-color</span><span class="p">:</span> <span class="no">black</span><span class="p">;</span>
      <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>
      <span class="nl">appearance</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
      <span class="nl">pointer-events</span><span class="p">:</span> <span class="n">all</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

<span class="nt">&lt;/</span><span class="k">style</span><span class="nt">&gt;</span>

</pre></table></code></div></div><p>✅ 진짜 슬라이더를 투명하게 하여 사용자가 볼 수 없지만 사용자가 진짜 slider의 thumb을 움직여 value를 수정할 수 있도록 한다.</p><ul><li><p><code class="language-plaintext highlighter-rouge">appearance</code>속성을 통해 수정한 CSS를 반영한다.</p><li><p><code class="language-plaintext highlighter-rouge">pointer-events</code>를 통해 진짜 슬라이더가 포인트의 이벤트 대상이 되지 않도록 한다.</p><li><p>그러나 thumb는 마우스를 통해 이동시켜야 하기 때문에 해당 부분만 포인트의 대상이 되도록 한다.</p><ul><li><p>크롬: <code class="language-plaintext highlighter-rouge">::-webkit-slider-thumb</code>로 접근이 가능하다.</p><li><p>파이어 폭스: <code class="language-plaintext highlighter-rouge">::-moz-range-thumb</code>로 접근이 가능하다.</p></ul></ul><p><br /></p><p><strong>결국 아래처럼, 가짜 슬라이더만 보이는 상태이다 (그러나 진짜 Slider의 thumb은 이동시킬 수 있다.)</strong></p><p><img data-src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/image-20220730224136373.png" alt="image-20220730224136373" data-proofer-ignore></p><p><br /></p><h2 id="2-진짜-슬라이더의-value에-따라-가짜-슬라이더를-움직인다"><span class="mr-2">2) 진짜 슬라이더의 value에 따라 가짜 슬라이더를 움직인다.</span><a href="#2-진짜-슬라이더의-value에-따라-가짜-슬라이더를-움직인다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>다음처럼 진짜 슬라이더의 thumb에 따라 가짜 슬라이더도 움직이게 해야 한다.</p><p><img data-src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/vue-multi-range-input-3.gif" alt="vue-multi-range-input-3" data-proofer-ignore></p><p><br /></p><h3 id="1--v-model을-통해-진짜-슬라이더의-value를-가져온다"><span class="mr-2">(1) v-model을 통해 진짜 슬라이더의 value를 가져온다.</span><a href="#1--v-model을-통해-진짜-슬라이더의-value를-가져온다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"cocktail-search-filter-slider"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- 진짜 슬라이더 --&gt;</span>
    <span class="nt">&lt;input</span>
      <span class="na">type=</span><span class="s">"range"</span>
      <span class="na">id=</span><span class="s">"slider-left"</span>
      <span class="na">max=</span><span class="s">"30"</span>
      <span class="na">min=</span><span class="s">"0"</span>
      <span class="na">v-model.number=</span><span class="s">"sliderLeftValue"</span>
    <span class="nt">/&gt;</span>
    <span class="nt">&lt;input</span>
      <span class="na">type=</span><span class="s">"range"</span>
      <span class="na">id=</span><span class="s">"slider-right"</span>
      <span class="na">max=</span><span class="s">"30"</span>
      <span class="na">min=</span><span class="s">"0"</span>
      <span class="na">v-model.number=</span><span class="s">"sliderRightValue"</span>
    <span class="nt">/&gt;</span>

    <span class="c">&lt;!-- 가짜 슬라이더 --&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider-line"</span><span class="nt">&gt;&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider-range"</span><span class="nt">&gt;&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider-left"</span><span class="nt">&gt;&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider-right"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span> <span class="na">setup</span> <span class="na">lang=</span><span class="s">"ts"</span><span class="nt">&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">watch</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// v-model로 연결한 값</span>
<span class="kd">const</span> <span class="nx">sliderLeftValue</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">sliderRightValue</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
   
<span class="c1">// sliderLeftValue의 값이 변하면 함수를 실행한다.</span>
<span class="nx">watch</span><span class="p">(</span><span class="nx">sliderLeftValue</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="p">});</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>

</pre></table></code></div></div><p>이렇게 vue의 v-model을 활용하여 진짜 슬라이더의 value에 간단하게 접근할 수 있다. 접근한 값을 가지고 가짜 슬라이더의 thumb를 움직이면 된다.</p><p><br /></p><p><img data-src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/image-20220730203145430.png" alt="image-20220730203145430" data-proofer-ignore></p><p><br /></p><h3 id="2-진짜-슬라이더의-value에-따라-가짜-슬라이더가-움직인다"><span class="mr-2">(2) 진짜 슬라이더의 value에 따라 가짜 슬라이더가 움직인다.</span><a href="#2-진짜-슬라이더의-value에-따라-가짜-슬라이더가-움직인다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><blockquote class="prompt-info"><div><p>진짜 슬라이더의 value에 따라 가짜 슬라이더의 <code class="language-plaintext highlighter-rouge">left</code>, <code class="language-plaintext highlighter-rouge">width</code>값을 수정하여 가짜 슬라이더의 thumb와 thumb간의 범위를 변경할 수 있다.</p></div></blockquote><p><br /></p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"cocktail-search-filter-slider"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- 진짜 슬라이더 --&gt;</span>
    <span class="nt">&lt;input</span>
      <span class="na">type=</span><span class="s">"range"</span>
      <span class="na">id=</span><span class="s">"slider-left"</span>
      <span class="na">max=</span><span class="s">"30"</span>
      <span class="na">min=</span><span class="s">"0"</span>
      <span class="na">v-model.number=</span><span class="s">"sliderLeftValue"</span>
    <span class="nt">/&gt;</span>
    <span class="nt">&lt;input</span>
      <span class="na">type=</span><span class="s">"range"</span>
      <span class="na">id=</span><span class="s">"slider-right"</span>
      <span class="na">max=</span><span class="s">"30"</span>
      <span class="na">min=</span><span class="s">"0"</span>
      <span class="na">v-model.number=</span><span class="s">"sliderRightValue"</span>
    <span class="nt">/&gt;</span>

    <span class="c">&lt;!-- 보이는 슬라이더 --&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider-line"</span><span class="nt">&gt;&lt;/div&gt;</span>
        
       <span class="c">&lt;!-- 스타일 바인딩 --&gt;</span> 
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider-range"</span> <span class="na">:style=</span><span class="s">"rangeStyle"</span><span class="nt">&gt;&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider-left"</span> <span class="na">:style=</span><span class="s">"leftThumbStyle"</span><span class="nt">&gt;&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"filter-slider-right"</span> <span class="na">:style=</span><span class="s">"rightThumbStyle"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span> <span class="na">setup</span> <span class="na">lang=</span><span class="s">"ts"</span><span class="nt">&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">reactive</span><span class="p">,</span> <span class="nx">watch</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// 진짜 Slider thumb의 초기 위치</span>
<span class="kd">const</span> <span class="nx">sliderLeftValue</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">sliderRightValue</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>

<span class="c1">// 가짜 Slider thumb의 초기 위치 계산</span>
<span class="kd">const</span> <span class="nx">leftThumbStyle</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">({</span>
  <span class="na">left</span><span class="p">:</span> <span class="s2">`</span><span class="p">${(</span><span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">}</span><span class="s2">%`</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">rightThumbStyle</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">({</span>
  <span class="na">left</span><span class="p">:</span> <span class="s2">`</span><span class="p">${(</span><span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">}</span><span class="s2">%`</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">rangeStyle</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">({</span>
  <span class="na">left</span><span class="p">:</span> <span class="s2">`</span><span class="p">${(</span><span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">}</span><span class="s2">%`</span><span class="p">,</span>
  <span class="na">width</span><span class="p">:</span> <span class="s2">`</span><span class="p">${((</span><span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">-</span> <span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">}</span><span class="s2">%`</span><span class="p">,</span>
<span class="p">});</span>


<span class="c1">// 왼쪽 SliderValue값이 변할 때 실행된다.</span>
<span class="nx">watch</span><span class="p">(</span><span class="nx">sliderLeftValue</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 값 변경: 가짜 슬라이더의 왼쪽 thumb이동, range 이동 및 너비 변경</span>
  <span class="nx">leftThumbStyle</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${(</span><span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">}</span><span class="s2">%`</span><span class="p">;</span>  
  <span class="nx">rangeStyle</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${(</span><span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">}</span><span class="s2">%`</span><span class="p">;</span>
  <span class="nx">rangeStyle</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span>
    <span class="p">((</span><span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">-</span> <span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
  <span class="p">}</span><span class="s2">%`</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// 오른쪽 SliderValue값이 변할 때 실행된다.</span>
<span class="nx">watch</span><span class="p">(</span><span class="nx">sliderRightValue</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 값 변경: 가짜 슬라이더의 오른쪽 thumb이동, range 너비 변경</span>
  <span class="nx">rightThumbStyle</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${(</span><span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">}</span><span class="s2">%`</span><span class="p">;</span>   
  <span class="nx">rangeStyle</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span>
    <span class="p">((</span><span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">-</span> <span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
  <span class="p">}</span><span class="s2">%`</span><span class="p">;</span>
<span class="p">});</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>

</pre></table></code></div></div><p>✅ 진짜 슬라이더의 value에 따라 가짜 슬라이더의 스타일 속성 값이 변한다.</p><ul><li>가짜 슬라이더의 thumb의 위치가 변한다.<ul><li>스타일 속성의 <code class="language-plaintext highlighter-rouge">left</code>의 값에 변화를 준다. <code class="language-plaintext highlighter-rouge">위치 변화</code></ul><li>가짜 슬라이더 사이의 범위를 나타내는 range의 위치와 너비가 변한다.<ul><li>스타일 속성의 <code class="language-plaintext highlighter-rouge">left</code>의 값에 변화를 준다. <code class="language-plaintext highlighter-rouge">위치 변화</code><li>스타일 속성의 <code class="language-plaintext highlighter-rouge">width</code>의 값에 변화를 준다. <code class="language-plaintext highlighter-rouge">너비 변화</code></ul></ul><p><br /></p><h3 id="3-범위-제한을-통해-thumb끼리-서로-엇갈리지-않도록-한다"><span class="mr-2">(3) 범위 제한을 통해 thumb끼리 서로 엇갈리지 않도록 한다.</span><a href="#3-범위-제한을-통해-thumb끼리-서로-엇갈리지-않도록-한다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>그러나, 위와 같이 구현을 끝낼 경우 아래와 같은 문제가 발생한다.😅</p><p><br /></p><p><img data-src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/vue-multi-range-input-1.gif" alt="vue-multi-range-input-1" data-proofer-ignore></p><p><br /></p><p>그래서 thumb이 서로의 영역을 침범하지 않도록 범위를 제한해야 한다.</p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- 생략 --&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>
<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
<span class="c1">// 생략..</span>

<span class="c1">// 왼쪽 Slider Value값이 변할 때 실행된다.</span>
<span class="nx">watch</span><span class="p">(</span><span class="nx">sliderLeftValue</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 왼쪽 thumb의 맥시멈</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">&gt;</span> <span class="mi">27</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="mi">27</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// 서로의 영역을 침범하지 않기 위한, 범위 제한</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">&lt;=</span> <span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">-</span> <span class="mi">3</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// 값 변경</span>
  <span class="nx">leftThumbStyle</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${(</span><span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">}</span><span class="s2">%`</span><span class="p">;</span>
  <span class="nx">rangeStyle</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${(</span><span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">}</span><span class="s2">%`</span><span class="p">;</span>
  <span class="nx">rangeStyle</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span>
    <span class="p">((</span><span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">-</span> <span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
  <span class="p">}</span><span class="s2">%`</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// 오른쪽 Slider Value값이 변할 때 실행된다.</span>
<span class="nx">watch</span><span class="p">(</span><span class="nx">sliderRightValue</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 오른쪽 thumb의 미니멈</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// 서로의 영역을 침범하지 않기 위한, 범위 제한</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">&lt;=</span> <span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">+</span> <span class="mi">3</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// 값 변경</span>
  <span class="nx">rightThumbStyle</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${(</span><span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">}</span><span class="s2">%`</span><span class="p">;</span>
  <span class="nx">rangeStyle</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span>
    <span class="p">((</span><span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span> <span class="o">-</span> <span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
  <span class="p">}</span><span class="s2">%`</span><span class="p">;</span>
<span class="p">});</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><p>이제는 서로 영역을 침범하지 않는 것을 확인할 수 있다.</p><p><br /></p><p><img data-src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/vue-multi-range-input-2.gif" alt="vue-multi-range-input-2" data-proofer-ignore></p><p><br /></p><h2 id="3-로컬스토리지에-value를-저장하고-불러온다"><span class="mr-2">3) 로컬스토리지에 value를 저장하고 불러온다.</span><a href="#3-로컬스토리지에-value를-저장하고-불러온다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>앞서 말했듯이, 이는 필터를 구현하기 위해 필요한 기능이다. (칵테일을 검색할 때, 도수 범위를 설정하여 칵테일 검색에 도움을 주기 위한 기능)</p><p>이런 필터는 다시 웹사이트에 방문했을 때도 기록이 남아있어 사용자가 재사용한다면 편리한 기능이라고 생각했기 때문에 사용자가 지난번에 설정했던 값을 로컬 스토리지에 저장해서 불러오도록 했다.</p><p><br /></p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">script</span> <span class="na">setup</span> <span class="na">lang=</span><span class="s">"ts"</span><span class="nt">&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">reactive</span><span class="p">,</span> <span class="nx">watch</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vuex</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">useStore</span><span class="p">();</span>

<span class="c1">// 진짜 슬라이더 value</span>
<span class="kd">const</span> <span class="nx">sliderValue</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(</span>
  <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">store</span><span class="p">.</span><span class="nx">getters</span><span class="p">[</span><span class="dl">"</span><span class="s2">cocktailSearch/getSearchFilterAlcoholStrength</span><span class="dl">"</span><span class="p">]</span>
<span class="p">);</span>
<span class="kd">const</span> <span class="nx">sliderLeftValue</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="nx">sliderValue</span><span class="p">.</span><span class="nx">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="kd">const</span> <span class="nx">sliderRightValue</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="nx">sliderValue</span><span class="p">.</span><span class="nx">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>

<span class="c1">// 진짜 슬라이더 값이 변경될 때, vuex에 값을 저장한다.</span>
<span class="c1">// 디바운스 사용하여 과도한 함수 실행을 막는다.</span>
<span class="kd">let</span> <span class="nx">debounce</span><span class="p">:</span> <span class="nx">ReturnType</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">setTimeout</span><span class="o">&gt;</span><span class="p">;</span>
<span class="nx">watch</span><span class="p">([</span><span class="nx">sliderLeftValue</span><span class="p">,</span> <span class="nx">sliderRightValue</span><span class="p">],</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">debounce</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">debounce</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">debounce</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span>
    <span class="p">()</span> <span class="o">=&gt;</span>
      <span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="dl">"</span><span class="s2">cocktailSearch/changeFilterAlcoholStrength</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span>
        <span class="nx">sliderLeftValue</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
        <span class="nx">sliderRightValue</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
      <span class="p">]),</span>
    <span class="mi">200</span>
  <span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 생략</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><ul><li>로컬 스토리지에 value가 저장되어 있으면 vuex로 가져온다. 없으면 기본 값을 설정한다.<li>초기 value 값을 vuex에서 가져오고, value가 변경 될 때 vuex에 값을 저장한다. (debounce 활용)</ul><p><br /></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/web/'>WEB</a>, <a href='/categories/vue/'>Vue</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/vue/" class="post-tag no-text-decoration" >vue</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=v-model%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%98%EC%97%AC-%EB%A9%80%ED%8B%B0-%EB%A0%88%EC%9D%B8%EC%A7%80-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%8D%94-%EB%A7%8C%EB%93%A4%EA%B8%B0+-+Hello%2C+World%21&url=https%3A%2F%2Fjaekp.github.io%2Fposts%2Fvue04%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=v-model%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%98%EC%97%AC-%EB%A9%80%ED%8B%B0-%EB%A0%88%EC%9D%B8%EC%A7%80-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%8D%94-%EB%A7%8C%EB%93%A4%EA%B8%B0+-+Hello%2C+World%21&u=https%3A%2F%2Fjaekp.github.io%2Fposts%2Fvue04%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fjaekp.github.io%2Fposts%2Fvue04%2F&text=v-model%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%98%EC%97%AC-%EB%A9%80%ED%8B%B0-%EB%A0%88%EC%9D%B8%EC%A7%80-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%8D%94-%EB%A7%8C%EB%93%A4%EA%B8%B0+-+Hello%2C+World%21" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/mogodb01/">MongoDB-환경설정과-간단한-CRUD구현하기</a><li><a href="/posts/performance03/">실전-웹-성능-최적화-(feat. React)-Part2</a><li><a href="/posts/performance01/">실전-웹-성능-최적화-(feat. React)-Part1</a><li><a href="/posts/nft03/">03-Solidity-문법-기초</a><li><a href="/posts/nft04/">03-DApp-web3를-이용하여-이더리움과-상호작용하기</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/til/">til</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/vue/">vue</a> <a class="post-tag" href="/tags/cs/">cs</a> <a class="post-tag" href="/tags/django/">django</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/css/">css</a> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/moviewiki/">MovieWiki</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/vue00/"><div class="card-body"> <em class="timeago small" data-ts="1656601200" > 2022-07-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>꼭-알아야-하는-vue3-변경사항-톺아보기</h3><div class="text-muted small"><p> 1. v-model의 변화 Vue 3에서는 혼동을 줄이고 개발자가 v-model 디렉티브를 보다 유연하게 사용할 수 있도록, 양방향 데이터 바인딩을 위한 API가 표준화되었다. 공식문서 1) 컴포넌트에 사용되는 v-model의 prop 및 event 사용법이 변경 2.x 3.x ...</p></div></div></a></div><div class="card"> <a href="/posts/vue01/"><div class="card-body"> <em class="timeago small" data-ts="1658156400" > 2022-07-19 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>vue3에서-타입스크립트로-vuex4-사용하기</h3><div class="text-muted small"><p> vue3환경에서 타입스크립트로 vuex를 사용하는 방법을 정리해보았다. 먼저, vuex4를 설치한다. $ npm install vuex@next --save 1. 기본 준비 1) main.ts에 스토어를 세팅한다 import { createApp } from &quot;vue&quot;; import &quot;./style.css&quot;; import App from...</p></div></div></a></div><div class="card"> <a href="/posts/vue02/"><div class="card-body"> <em class="timeago small" data-ts="1658502000" > 2022-07-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ERROR-Vue3-CompositionAPI에서-동적-컴포넌트-사용하는-방법</h3><div class="text-muted small"><p> 😥 문제 상황 회원 관리 기능을 구현하면서 비밀번호 찾기 view에서 사용자의 진행 단계에 따라 컴포넌트가 변경되어 보여주는 페이지를 만들고 있는 중에 오류가 발생했다. 간단하게 동적 컴포넌트를 활용하여 구현하려 했으나, 기존의 Vue2 방식으로 동적 컴포넌트를 설정했더니 작동이 되지 않는 오류가 발생했다. 작동이 되지 않는 코드는 다음과 같다. ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/vue03/" class="btn btn-outline-primary" prompt="Older"><p>ERROR-Vue3-router에서-네비게이션-가드-설정하는-방법</p></a> <a href="/posts/computerstructure07/" class="btn btn-outline-primary" prompt="Newer"><p>컴퓨터구조-중앙-처리-장치</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/JaeKP">박재경</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/til/">til</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/vue/">vue</a> <a class="post-tag" href="/tags/cs/">cs</a> <a class="post-tag" href="/tags/django/">django</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/css/">css</a> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/moviewiki/">MovieWiki</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
