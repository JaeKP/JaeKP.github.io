<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="꼭-알아야-하는-vue3-변경사항-톺아보기" /><meta name="author" content="박재경" /><meta property="og:locale" content="ko" /><meta name="description" content="1. v-model의 변화" /><meta property="og:description" content="1. v-model의 변화" /><link rel="canonical" href="https://jaekp.github.io/posts/vue00/" /><meta property="og:url" content="https://jaekp.github.io/posts/vue00/" /><meta property="og:site_name" content="Hello, World!" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-07-01T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="꼭-알아야-하는-vue3-변경사항-톺아보기" /><meta name="google-site-verification" content="LP7vGYSUszERSVMH1MoT4NXRTCcbUaUtfFm_pOYcoQ4" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"박재경"},"dateModified":"2022-07-01T00:00:00+09:00","datePublished":"2022-07-01T00:00:00+09:00","description":"1. v-model의 변화","headline":"꼭-알아야-하는-vue3-변경사항-톺아보기","mainEntityOfPage":{"@type":"WebPage","@id":"https://jaekp.github.io/posts/vue00/"},"url":"https://jaekp.github.io/posts/vue00/"}</script><title>꼭-알아야-하는-vue3-변경사항-톺아보기 | Hello, World!</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Hello, World!"><meta name="application-name" content="Hello, World!"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/mococo.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Hello, World!</a></div><div class="site-subtitle font-italic">난 재경쓰!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/JaeKP" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['jkp71192','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>꼭-알아야-하는-vue3-변경사항-톺아보기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>꼭-알아야-하는-vue3-변경사항-톺아보기</h1><div class="post-meta text-muted"><div> By <em> 박재경 </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1656601200" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-07-01 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4246 words"> <em>23 min</em> read</span></div></div></div><div class="post-content"><h2 id="1-v-model의-변화"><span class="mr-2">1. v-model의 변화</span><a href="#1-v-model의-변화" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><blockquote class="prompt-tip"><div><p>Vue 3에서는 혼동을 줄이고 개발자가 <code class="language-plaintext highlighter-rouge">v-model</code> 디렉티브를 보다 유연하게 사용할 수 있도록, 양방향 데이터 바인딩을 위한 API가 표준화되었다.</p></div></blockquote><p><a href="https://v3.ko.vuejs.org/ko-KR/guide/migration/v-model.html">공식문서</a></p><h3 id="1-컴포넌트에-사용되는-v-model의-prop-및-event-사용법이-변경"><span class="mr-2">1) 컴포넌트에 사용되는 v-model의 prop 및 event 사용법이 변경</span><a href="#1-컴포넌트에-사용되는-v-model의-prop-및-event-사용법이-변경" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="table-wrapper"><table><thead><tr><th style="text-align: center">2.x<th style="text-align: center">3.x<tbody><tr><td style="text-align: center">value<td style="text-align: center">modelValue<tr><td style="text-align: center">input<td style="text-align: center">update:modelValue<tr><td style="text-align: center">model 옵션<td style="text-align: center">전달인자 사용</table></div><p><br /></p><h4 id="1-2x"><span class="mr-2">(1) 2.x</span><a href="#1-2x" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 부모 컴포넌트 --&gt;</span> 
<span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
   <span class="nt">&lt;div&gt;</span>
    <span class="c">&lt;!-- 변수 inputData를 속성 value에 바인딩하고 input이벤트를 수신하여 변수 inputData를 업데이트 한다. --&gt;</span> 
    <span class="nt">&lt;my-input-component</span> <span class="na">v-model=</span><span class="s">"inputData"</span><span class="nt">&gt;&lt;/my-input-component&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
<span class="k">import</span> <span class="nx">MyInputComponent</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./MyInputComponent.vue</span><span class="dl">"</span><span class="p">;</span>
<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MyComponent</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">components</span><span class="p">:</span> <span class="p">{</span>
    <span class="nx">MyInputComponent</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">inputData</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="p">};</span>
  <span class="p">},</span>
<span class="p">};</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><ul><li>2.x에서 컴포넌트에 v-model을 사용하는 것은 value를 prop으로 전달하고 input 이벤트를 emit 하는 것과 같다.<li>즉, input 이벤트가 발생했을 때, value값이 변경되는 것과 같다.</ul><p><br /></p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 자식 컴포넌트 --&gt;</span> 
<span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">:value=</span><span class="s">"value"</span> <span class="err">@</span><span class="na">input=</span><span class="s">"$emit('input', $event.target.value)"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MyInputComponent</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">props</span><span class="p">:</span> <span class="p">[</span>
      <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span>
    <span class="p">],</span>
  <span class="p">}</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>

</pre></table></code></div></div><p><br /></p><p><strong><code class="language-plaintext highlighter-rouge">prop이나 이벤트 명을 변경하려면?</code></strong></p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 자식 컴포넌트 --&gt;</span> 
<span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">:textData=</span><span class="s">"textData"</span> <span class="err">@</span><span class="na">input=</span><span class="s">"$emit('custom-change', $event.target.value)"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MyInputComponent</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">model</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">props</span><span class="p">:</span> <span class="dl">"</span><span class="s2">textData</span><span class="dl">"</span>
        <span class="na">event</span><span class="p">:</span> <span class="dl">"</span><span class="s2">custom-change</span><span class="dl">"</span>
    <span class="p">}</span>
    <span class="nl">props</span><span class="p">:</span> <span class="p">{</span>
      <span class="nx">textData</span>
  	<span class="p">}</span>
  <span class="p">}</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><ul><li>만약 prop 또는 이벤트 명을 다른 이름으로 변경하려면 model 옵션의 추가가 필요하다.</ul><p><br /></p><h4 id="--잠깐-vue-2x에-있던-sync수식어란"><span class="mr-2">🤔 <strong>잠깐! vue 2.x에 있던 <code class="language-plaintext highlighter-rouge"><span class="mr-2">.sync</code>수식어란?</strong></span><a href="#--잠깐-vue-2x에-있던-sync수식어란" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>props에 양방향 바인딩이 필요한 경우 (v-model외에 추가적으로 다른 props에 양방향 바인딩을 사용해야 하는 경우), 다음과 같이 코드를 작성한다. 자식 컴포넌트에서 부모 컴포넌트의 값을 수정하기에, 부모 컴포넌트에서는 어떠한 자식 컴포넌트가 값을 수정한 것인지 파악하기 어렵다. 그래서 자식 컴포넌트에서 <code class="language-plaintext highlighter-rouge">update:propName</code>을 이용하여 이벤트를 부모 컴포넌트에 전달한다.</p><p><strong>자식 컴포넌트에서 <code class="language-plaintext highlighter-rouge">this.$emit('update:propName', newValue)</code>를 통해 새로운 값이 할당되었음을 부모에게 알린다.</strong> 그때 부모는 아래와 같은 코드로 해당 이벤트를 듣는다.</p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 변수 inputData를 속성 propName에 바인딩하고 update:PropName 이벤트를 수신하여 변수 inputData를 업데이트한다. --&gt;</span>
<span class="nt">&lt;my-input-component</span> <span class="na">:propName=</span><span class="s">"inputData"</span> <span class="err">@</span><span class="na">update:propName=</span><span class="s">"inputData = $event"</span><span class="nt">/&gt;</span>

<span class="c">&lt;!-- 축약된 방식은 아래와 같다 --&gt;</span>

<span class="nt">&lt;my-input-component</span> <span class="na">:propName.sync=</span><span class="s">"inputData"</span><span class="nt">/&gt;</span>
</pre></table></code></div></div><ul><li>v-model과의 차이점<ul><li>sync를 사용할 때는 자식 컴포넌트에는 valueProp이 필요하지 않다. 대신 부모와 동일한 prop 이름을 사용한다.<li>또한, prop을 업데이트 하기위해 input 이벤트를 emit하는 것이 아니라 <code class="language-plaintext highlighter-rouge">update:propName</code>을 emit한다.<li>하나의 컴포넌트에 다중으로 사용이 가능하다.</ul></ul><p><br /></p><h4 id="2-3x"><span class="mr-2">(2) 3.x</span><a href="#2-3x" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 부모 컴포넌트 --&gt;</span> 
<span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
   <span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;h1&gt;</span>3.x<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;my-input-component</span>  <span class="na">v-model=</span><span class="s">"inputData3"</span><span class="nt">&gt;&lt;/my-input-component&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
<span class="k">import</span> <span class="nx">MyInputComponent</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./MyInputComponent.vue</span><span class="dl">"</span><span class="p">;</span>
<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MyComponent</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">components</span><span class="p">:</span> <span class="p">{</span>
    <span class="nx">MyInputComponent</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">inputData3</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="p">};</span>
  <span class="p">},</span>
<span class="p">};</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><ul><li>컴포넌트에 v-model을 사용하는 것은 modelValue prop를 전달하고 update:modelValue 이벤트를 emit 하는 것과 같다.</ul><p><br /></p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 자식 컴포넌트 --&gt;</span> 
<span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">:value=</span><span class="s">"modelValue"</span> <span class="err">@</span><span class="na">input=</span><span class="s">"$emit('update:modelValue', $event.target.value)"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MyInputComponent</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">props</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">modelValue</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="nb">String</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">}</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><p><br /></p><p><strong><code class="language-plaintext highlighter-rouge">prop이나 이벤트 명을 변경하려면?</code></strong></p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nt">&lt;my-input-component</span> <span class="na">v-model:content=</span><span class="s">"inputData3"</span> <span class="nt">/&gt;</span>

<span class="c">&lt;!-- 축약된 방식은 아래와 같다 --&gt;</span>

<span class="nt">&lt;my-input-component</span> <span class="na">:content=</span><span class="s">"inputData3"</span> <span class="err">@</span><span class="na">update:content=</span><span class="s">"inputData3 = $event"</span> <span class="nt">/&gt;</span>
</pre></table></code></div></div><ul><li>3.x에서 모델명을 변경하려면 model 옵션 대신에 전달인자를 v-model에 전달할 수 있다. (props를 통한 부모와 자식의 양방향 통신)<li>이는 <code class="language-plaintext highlighter-rouge">.sync</code>수식어를 대체하는 역할을 한다.</ul><p><br /></p><h3 id="2-다중-v-model-바인딩"><span class="mr-2">2) 다중 v-model 바인딩</span><a href="#2-다중-v-model-바인딩" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><blockquote class="prompt-tip"><div><p>다중으로 v-model을 바인딩 할 수 있다.</p></div></blockquote><p>한 컴포넌트에 다중으로 사용할 수 있는<code class="language-plaintext highlighter-rouge">.sync</code>수식어를 완벽하게 대체하기 위해 v-model에도 적용되게 되었다.</p><p>이제는 단일 컴포넌트 인스턴스에 대해 다중 v-model 바인딩이 가능해졌다.</p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 부모 컴포넌트 --&gt;</span> 
<span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
   <span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;h1&gt;</span>3.x<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;my-input-component</span>  <span class="na">v-model:</span><span class="err">"</span><span class="na">firstName</span><span class="err">"</span> <span class="na">v-model:</span><span class="err">"</span><span class="na">lastName</span><span class="err">"</span> <span class="nt">&gt;&lt;/my-input-component&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
<span class="k">import</span> <span class="nx">MyInputComponent</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./MyInputComponent.vue</span><span class="dl">"</span><span class="p">;</span>
<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MyComponent</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">components</span><span class="p">:</span> <span class="p">{</span>
    <span class="nx">MyInputComponent</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">firstName</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
      <span class="na">lastName</span><span class="p">:</span><span class="dl">""</span>
    <span class="p">};</span>
  <span class="p">},</span>
<span class="p">};</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><p><br /></p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 자식 컴포넌트 --&gt;</span> 
<span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">:value=</span><span class="s">"firstName"</span> <span class="err">@</span><span class="na">input=</span><span class="s">"$emit('update:firstName', $event.target.value)"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">:value=</span><span class="s">"lastName"</span> <span class="err">@</span><span class="na">input=</span><span class="s">"$emit('update:lastName', $event.target.value)"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MyInputComponent</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">props</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">firstName</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="nb">String</span>
    <span class="p">},</span>
    <span class="na">lastName</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="nb">String</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">}</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><p><br /></p><h3 id="3-사용자-수식어-생성-기능-추가"><span class="mr-2">3) 사용자 수식어 생성 기능 추가</span><a href="#3-사용자-수식어-생성-기능-추가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><blockquote class="prompt-tip"><div><p>커스텀 수식어를 추가할 수 있다.</p></div></blockquote><div class="table-wrapper"><table><thead><tr><th>빌트인 수식어<th>설명<th>예시<tbody><tr><td><code class="language-plaintext highlighter-rouge">.lazy</code><td>input대신 change 이벤트 이후에 동기화 할 수 있다.<td><code class="language-plaintext highlighter-rouge">&lt;input v-model.lazy="msg"&gt;</code><tr><td><code class="language-plaintext highlighter-rouge">.number</code><td>사용자 입력이 자동으로 숫자로 형변환 된다.<td><code class="language-plaintext highlighter-rouge">&lt;input v-model.number="age" type="number" /&gt;</code><tr><td><code class="language-plaintext highlighter-rouge">.trim</code><td>사용자 입력 중 양쪽 공백을 제거한다.<td><code class="language-plaintext highlighter-rouge">&lt;input v-model.trim="msg" /&gt;</code></table></div><p>v-model은 위의 표에 정리된 것처럼 빌트인 수식어를 가지고 있다. 이제는 상황에 따라서 커스텀 수식어를 만들 수 있다.</p><p><a href="https://v3.ko.vuejs.org/guide/component-custom-events.html#v-model-%E1%84%89%E1%85%AE%E1%84%89%E1%85%B5%E1%86%A8%E1%84%8B%E1%85%A5-%E1%84%92%E1%85%A2%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%BC">공식문서</a>에 예제가 있으니 참고하면 된다.</p><p><br /></p><h2 id="2-compositionapi"><span class="mr-2">2. CompositionAPI</span><a href="#2-compositionapi" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>이전의 vue는 <a href="https://v3.ko.vuejs.org/api/options-api.html">optionAPI</a>기반으로 컴포넌트를 구성했다. optionAPI는 컴포넌트의 옵션들 (data, computed, methods, watch)로 논리에 따라 구분하여 컴포넌트를 구성하게 된다. 하지만, 컴포넌트가 커지면 커질 수록 해당 옵션들 또한 커지게된다. 기능별로 묶여있는 것이 아닌 옵션 별(논리적 구분)로 묶여있기 때문에 코드가 길어질 수록 코드 가독성이 떨어질 수 밖에 없다. 즉, 하나의 기능을 논리적인 분류에 따라 분산하여 작성하기 때문에 코드가 분산되어 작성될 수 밖에 없다.</p><p>그래서 이를 보완하기 위해 compositionAPI가 등장하게 되었다. 기능별 + 논리별로 코드를 배치하게 한다. 흩어져있는 데이터를 한 곳에 모아서 관리를 함으로 재사용성을 높일 수 있다.</p><p><br /></p><h3 id="1-setup"><span class="mr-2">1) setup</span><a href="#1-setup" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>새로운 <code class="language-plaintext highlighter-rouge">setup</code> 컴포넌트 옵션은 컴포넌트가 생성되기 <strong>전</strong>에, <code class="language-plaintext highlighter-rouge">props</code>가 한번 resolved될 때 실행되며 composition API의 진입점 역할을 한다.</p><p>이곳에 논리적인 흐름에 따라서 구현하고 싶은 기능을 넣어준다.</p><ul><li>setup은 컴포넌트 인스턴스가 생성되지 않았기 때문에 props, context를 제외하고 컴포넌트 내부 데이터에 접근할 수 없다.<ul><li>즉, this 접근이 불가능하다.</ul></ul><p><br /></p><ul><li>setup 함수의 첫번째 전달인자는 props이고 두번째 전달 인자는 context이다.<ul><li>props는 반응성이 있다. (ES6 구조 분해 할당을 하면 반응성을 잃는다. )<li>context는 3가지 컴포넌트 프로퍼티를 가지는 일반 JS 객체로 반응성이 없다.<ul><li>context.attrs<li>context.slots<li>context.emit</ul></ul></ul><p><code class="language-plaintext highlighter-rouge">attrs</code>와 <code class="language-plaintext highlighter-rouge">slots</code>은 컴포넌트 자체가 업데이트될 때, 항상 업데이트되는 상태 저장 객체이다. 즉, attrs와 slots에 구조분해할당을 피하고, 항상 속성을 <code class="language-plaintext highlighter-rouge">attrs.x</code>와 <code class="language-plaintext highlighter-rouge">slots.x</code>의 형태로 참조해야한다. 그래서 <code class="language-plaintext highlighter-rouge">attrs</code>나 <code class="language-plaintext highlighter-rouge">slots</code>의 변경으로 인한 사이드이펙트를 의도하려면, <code class="language-plaintext highlighter-rouge">onUpdated</code> 라이프사이클 훅 안에서 수행해야한다.</p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
      <span class="nx">setup</span><span class="p">(</span><span class="nx">props</span><span class="p">,</span> <span class="p">{</span><span class="nx">attrs</span><span class="p">,</span> <span class="nx">slots</span><span class="p">,</span> <span class="nx">emit</span><span class="p">}){</span>
          <span class="p">...</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><p><br /></p><h4 id="1-ref"><span class="mr-2">(1) ref</span><a href="#1-ref" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><blockquote class="prompt-tip"><div><p>원시자료형 데이터를 반응형으로 만드는 함수</p></div></blockquote><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div&gt;</span> 9<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;button</span> <span class="err">@</span><span class="na">click=</span><span class="s">"countUp"</span><span class="nt">&gt;</span> 카운트 업!<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span>
   
  <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">setup</span><span class="p">(){</span>
      <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">countUp</span> <span class="o">=</span> <span class="p">()</span><span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span>
      <span class="p">}</span> 
      <span class="k">return</span> <span class="p">{</span>
        <span class="nx">count</span><span class="p">,</span>
        <span class="nx">countUp</span>
      <span class="p">};</span>   
    <span class="p">};</span>
  <span class="p">};</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>

<span class="c">&lt;!--======= optionAPI =======--&gt;</span>
<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">data</span><span class="p">(){</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="na">count</span><span class="p">:</span> <span class="mi">0</span>
      <span class="p">};</span>
    <span class="p">},</span>
    <span class="na">methods</span><span class="p">:</span> <span class="p">{</span>
      <span class="nx">count</span><span class="p">(){</span>
         <span class="k">this</span><span class="p">.</span><span class="nx">count</span><span class="o">++</span>
      <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">};</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><ul><li><strong><code class="language-plaintext highlighter-rouge">ref</code>: 전달인자를 받고 반응형 변수의 값에 접근하거나 변경할 수 있는 <code class="language-plaintext highlighter-rouge">value</code>속성을 가진 객체를 반환한다. (값에 반응형 참조를 만든다 )</strong><li><code class="language-plaintext highlighter-rouge">ref</code>객체는 단 하나의 속성을 가지는데, 내부 값을 가리키는 <code class="language-plaintext highlighter-rouge">.value</code>이다.<li><code class="language-plaintext highlighter-rouge">ref</code> 가 retrun을 통해 반환되고 템플릿에서 접근되면, 자동적으로 내부 값을 풀어냅니다. 즉, 템플릿에서 <code class="language-plaintext highlighter-rouge">.value</code> 를 추가할 필요가 없다.</ul><p><br /></p><div class="table-wrapper"><table><thead><tr><th>관련 함수<th>설명<tbody><tr><td><code class="language-plaintext highlighter-rouge">unref</code><td>주어진 인자가 ref라면 내부 값을 반환하고, 아니라면 주어진 인자를 반환한다.<tr><td><code class="language-plaintext highlighter-rouge">toRef</code><td>소스가 되는 reacitve 객체의 속성을 가져와 <code class="language-plaintext highlighter-rouge">ref</code>를 만들 수 있다. <br />이 ref는 여기저기 인자로 전달할수 있으면서, <strong>소스 객체에 대해 리액티브 연결을 유지할수 있습니다.</strong><tr><td><code class="language-plaintext highlighter-rouge">toRefs</code><td>reactive 객체를 일반 객체로 변환하여 반환하지만, 반환되는 객체의 각 속성들이 <code class="language-plaintext highlighter-rouge">ref</code>로 원래의 reactive 객체 속성으로 연결된다.<br />반응성을 잃지 않고 반환된 값을 구조 분해 할당 할 수 있다.<tr><td><code class="language-plaintext highlighter-rouge">isRef</code><td>주어진 값이 <code class="language-plaintext highlighter-rouge">ref </code>객체인지 확인한다.</table></div><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 2.toRef --&gt;</span> 
<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">import</span> <span class="p">{</span><span class="nx">toRef</span><span class="p">,</span> <span class="nx">reactive</span><span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span><span class="p">;</span>
  
  <span class="kd">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">({</span>
    <span class="na">foo</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">bar</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">})</span>
  <span class="kd">const</span> <span class="nx">fooRef</span> <span class="o">=</span> <span class="nx">toRef</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">)</span>
  
  <span class="nx">fooRef</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">foo</span><span class="p">)</span> <span class="c1">// 2</span>

  <span class="c1">// 연결이 유지되어있다. </span>
  <span class="nx">state</span><span class="p">.</span><span class="nx">foo</span><span class="o">++</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">fooRef</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="c1">// 3</span>
    
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><p><br /></p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 3.toRefs --&gt;</span> 

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">import</span> <span class="p">{</span><span class="nx">toRefs</span><span class="p">,</span> <span class="nx">reactive</span><span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span><span class="p">;</span>
    
  <span class="kd">function</span> <span class="nx">useFeatureX</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">({</span>
      <span class="na">foo</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="na">bar</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">})</span>
    <span class="k">return</span> <span class="nx">toRefs</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span>
  <span class="p">};</span>
    
  <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">setup</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">baz</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">toRefs</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useFeatureX</span><span class="p">();</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="nx">foo</span><span class="p">,</span>
        <span class="nx">bar</span>
      <span class="p">};</span>
    <span class="p">};</span>
  <span class="p">};</span>
<span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
</pre></table></code></div></div><ul><li>props의 구조분해할당이 필요한 경우, <code class="language-plaintext highlighter-rouge">setup</code>펑션의 <code class="language-plaintext highlighter-rouge">toRefs</code>를 사용하여 반응성을 유지할 수 있습니다.<ul><li><code class="language-plaintext highlighter-rouge">props</code>는 반응성이 있다. 그러다 단순하게, <strong>ES6의 구조분해할당</strong>을 사용한다면 props의 반응성이 제거된다.</ul><li><code class="language-plaintext highlighter-rouge">toRefs</code>는 소스 객체에 포함 된 속성에 대한 ref만 생성합니다. 특정 속성에 대한 참조를 만들려면 대신 <code class="language-plaintext highlighter-rouge">toRef</code>를 사용하면 된다.</ul><p><br /></p><h4 id="-반응형"><span class="mr-2">🤔 <strong>반응형…?</strong></span><a href="#-반응형" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><a href="https://v3.ko.vuejs.org/api/reactivity-api.html">반응형 API</a></p><p><img data-src="https://blog.penjee.com/wp-content/uploads/2015/02/pass-by-reference-vs-pass-by-value-animation.gif" data-proofer-ignore></p><p><br /></p><h4 id="2-reactive"><span class="mr-2">(2) reactive</span><a href="#2-reactive" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><blockquote><p>객체 형태의 데이터를 반응형 상태로 생성하기 위해 사용하는 메서드</p></blockquote><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div&gt;</span> 9<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>
<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">reactive</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span>
   
  <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">setup</span><span class="p">(){</span>
      <span class="kd">const</span> <span class="nx">age</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
	  <span class="kd">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nx">reative</span><span class="p">({</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">박싸피</span><span class="dl">"</span><span class="p">,</span>
        <span class="nx">age</span>
      <span class="p">});</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="nx">state</span>
      <span class="p">};</span>   
    <span class="p">};</span>
  <span class="p">};</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><ul><li><strong><code class="language-plaintext highlighter-rouge">reactive</code>: 객체의 반응형 복사본을 반환한다.</strong><li>반응형이 깊게 적용 된다. 모든 중첩된 속성의 변화를 감지한다.<li><code class="language-plaintext highlighter-rouge">reactive</code>객체의 속성에 <code class="language-plaintext highlighter-rouge">ref</code>를 할당하면, 자동적으로 내부 값으로 벗겨내서 사용된다.</ul><p><br /></p><div class="table-wrapper"><table><thead><tr><th>관련 함수<th>설명<tbody><tr><td><code class="language-plaintext highlighter-rouge">readonly</code><td>객체(반응형 또는 일반 객체) 또는 ref를 가져와서 원본에 대한 읽기전용으로 변경한다. (수정을 가하지 못하는 복사본)<tr><td><code class="language-plaintext highlighter-rouge">isReactive</code><td>객체가 반응형(reactive)로 생성된 것인지 아닌지 확인한다.<tr><td><code class="language-plaintext highlighter-rouge">shallowReadonly</code><td>고유한 속성을 읽기 전용으로 만들지만 중첩된 객체의 경우 수정이 가능하다.</table></div><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 1. readonly --&gt;</span>
<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">import</span> <span class="p">{</span> <span class="nx">reactive</span><span class="p">,</span> <span class="nx">readonly</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
  <span class="kd">const</span> <span class="nx">original</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">({</span> <span class="na">count</span><span class="p">:</span> <span class="mi">0</span> <span class="p">})</span>
  <span class="kd">const</span> <span class="nx">copy</span> <span class="o">=</span> <span class="nx">readonly</span><span class="p">(</span><span class="nx">original</span><span class="p">)</span>

  <span class="c1">// 원본이 변이되면 복사본인 copy의 값도 변한다.</span>
  <span class="nx">original</span><span class="p">.</span><span class="nx">count</span><span class="o">++</span>

  <span class="c1">// 복사본을 변이하려고 하면 경고와 함께 실패한다.</span>
  <span class="nx">copy</span><span class="p">.</span><span class="nx">count</span><span class="o">++</span> <span class="c1">// warning: "Set operation on key 'count' failed: target is readonly."  </span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><p><br /></p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 3. shallowReadonly --&gt;</span> 
<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">import</span> <span class="p">{</span> <span class="nx">shallowReadonly</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
  <span class="kd">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nx">shallowReadonly</span><span class="p">({</span>
      <span class="na">foo</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="na">nested</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">bar</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">}</span>
  <span class="p">})</span>

  <span class="c1">// 객체의 자체적인 속성 변경이 안된다. </span>
  <span class="nx">state</span><span class="p">.</span><span class="nx">foo</span><span class="o">++</span>
  
  <span class="c1">// 하지만 중첩된 객체에서는 수정이 가능하다. </span>
  <span class="nx">isReadonly</span><span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">nested</span><span class="p">)</span> <span class="c1">// false</span>
  <span class="nx">state</span><span class="p">.</span><span class="nx">nested</span><span class="p">.</span><span class="nx">bar</span><span class="o">++</span> <span class="c1">// 반응</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><p><br /></p><h4 id="3-watch"><span class="mr-2">(3) watch</span><a href="#3-watch" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><blockquote class="prompt-tip"><div><p>Vue에서 import한 watch함수를 사용하여 동일한 작업을 수행할 수 있다.</p></div></blockquote><p><strong>3가지의 전달인자를 허용한다.</strong></p><ul><li>감시를 원하는 반응성 참조나 getter function<li>콜백 (<code class="language-plaintext highlighter-rouge">(value, oldValue, onInvalidate) =&gt; void</code>형태의 콜백)<li>선택적인 구성 옵션 (immediate나 deep과 같은 wathchOptions)</ul><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div&gt;</span> 9<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;button</span> <span class="err">@</span><span class="na">click=</span><span class="s">"countUp"</span><span class="nt">&gt;</span> 카운트 업!<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">watch</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span>
   
  <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">setup</span><span class="p">(){</span>
      <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">countUp</span> <span class="o">=</span> <span class="p">()</span><span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">counter</span><span class="p">.</span><span class="nx">value</span> <span class="o">++</span>
      <span class="p">}</span>
      <span class="nx">watch</span><span class="p">(</span><span class="nx">count</span><span class="p">,</span> <span class="p">(</span><span class="nx">newValue</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">oldValue</span><span class="p">}</span><span class="s2">=&gt; </span><span class="p">${</span><span class="nx">newValue</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
      <span class="p">})</span> 
      <span class="k">return</span> <span class="p">{</span>
        <span class="nx">count</span><span class="p">,</span>
        <span class="nx">countUp</span>
      <span class="p">};</span>   
    <span class="p">};</span>
  <span class="p">};</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>

<span class="c">&lt;!--======= optionAPI =======--&gt;</span>
<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">data</span><span class="p">(){</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="na">count</span><span class="p">:</span> <span class="mi">0</span>
      <span class="p">};</span>
    <span class="p">},</span>
    <span class="na">methods</span><span class="p">:</span> <span class="p">{</span>
      <span class="nx">count</span><span class="p">(){</span>
         <span class="k">this</span><span class="p">.</span><span class="nx">count</span><span class="o">++</span>
      <span class="p">};</span>
    <span class="p">},</span>
    <span class="na">watch</span><span class="p">:</span> <span class="p">{</span>
      <span class="nx">count</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">){</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">oldValue</span><span class="p">}</span><span class="s2">=&gt; </span><span class="p">${</span><span class="nx">newValue</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
      <span class="p">};</span>
    <span class="p">};</span>
  <span class="p">};</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><p><br /></p><h4 id="4-computed"><span class="mr-2">(4) computed</span><a href="#4-computed" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div&gt;</span> <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span>
   
  <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">setup</span><span class="p">(){</span>
      <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
      
      <span class="kd">const</span> <span class="nx">twiceTheCount</span> <span class="o">=</span> 
         <span class="nx">computed</span><span class="p">(()</span><span class="o">=&gt;</span> <span class="nx">counter</span><span class="p">.</span><span class="nx">value</span> <span class="o">++</span><span class="p">);</span>
        
      <span class="c1">// 값에 접근하기 위해서는 value속성에 접근해야 한다. </span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">twiceTheCount</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
        
      <span class="k">return</span> <span class="p">{</span>
        <span class="nx">count</span><span class="p">,</span>
        <span class="nx">twiceTheCount</span>
      <span class="p">};</span>   
    <span class="p">};</span>
  <span class="p">};</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><ul><li><p><code class="language-plaintext highlighter-rouge">computed</code> 함수는<code class="language-plaintext highlighter-rouge">computed</code>의 첫번째 인자를 전달된 게터와 같은 콜백의 결과에 대한 <strong>읽기 전용 반응성 참조</strong>를 리턴한다.</p><li><p>새로 생성된 computed 변수의 <strong>value</strong>에 접근하려면, <code class="language-plaintext highlighter-rouge">ref</code>와 마찬가지로 <code class="language-plaintext highlighter-rouge">.value</code> 속성을 사용해야 한다.</p></ul><p><br /></p><h3 id="2-라이프-사이클-훅"><span class="mr-2">2) 라이프 사이클 훅</span><a href="#2-라이프-사이클-훅" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><blockquote class="prompt-tip"><div><p>Options API와 비교하여 Composition API 형태를 완벽하게 만들기 위해서, <code class="language-plaintext highlighter-rouge">setup</code> 안에 라이프사이클 훅을 등록하는 방법도 필요하다.</p></div></blockquote><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div&gt;</span> <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">onMounted</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span>
   
  <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">setup</span><span class="p">(){</span>
      <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
      
      <span class="kd">const</span> <span class="nx">countUp</span> <span class="o">=</span> <span class="p">()</span><span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">counter</span><span class="p">.</span><span class="nx">value</span> <span class="o">++</span>
      <span class="p">}</span> 
        
      <span class="nx">onMounted</span><span class="p">(</span><span class="nx">countUp</span><span class="p">)</span> <span class="c1">// mounted에서 countUp함수 호출</span>
 
      <span class="k">return</span> <span class="p">{</span>
        <span class="nx">count</span><span class="p">,</span>
        <span class="nx">countUp</span>
      <span class="p">};</span>   
    <span class="p">};</span>
  <span class="p">};</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><ul><li>Composition API의 라이프사이클 훅은 Options API의 라이프사이클 훅의 이름과 동일하지만, 접두사 <code class="language-plaintext highlighter-rouge">on</code>이 붙는다. 예) <code class="language-plaintext highlighter-rouge">mounted</code> -&gt; <code class="language-plaintext highlighter-rouge">onMounted</code><li>컴포넌트에 의해 훅이 호출될 때 실행될 콜백함수를 인자로 받는다.</ul><p><br /></p><p>📌 <strong>Composition API의 라이프 사이클 훅</strong></p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">Options API<th style="text-align: center"><code class="language-plaintext highlighter-rouge">setup</code> 내부의 훅<tbody><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">beforeCreate</code><td style="text-align: center">필요하지 않음*<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">created</code><td style="text-align: center">필요하지 않음*<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">beforeMount</code><td style="text-align: center"><code class="language-plaintext highlighter-rouge">onBeforeMount</code><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">mounted</code><td style="text-align: center"><code class="language-plaintext highlighter-rouge">onMounted</code><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">beforeUpdate</code><td style="text-align: center"><code class="language-plaintext highlighter-rouge">onBeforeUpdate</code><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">updated</code><td style="text-align: center"><code class="language-plaintext highlighter-rouge">onUpdated</code><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">beforeUnmount</code><td style="text-align: center"><code class="language-plaintext highlighter-rouge">onBeforeUnmount</code><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">unmounted</code><td style="text-align: center"><code class="language-plaintext highlighter-rouge">onUnmounted</code><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">errorCaptured</code><td style="text-align: center"><code class="language-plaintext highlighter-rouge">onErrorCaptured</code><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">renderTracked</code><td style="text-align: center"><code class="language-plaintext highlighter-rouge">onRenderTracked</code><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">renderTriggered</code><td style="text-align: center"><code class="language-plaintext highlighter-rouge">onRenderTriggered</code></table></div><p><code class="language-plaintext highlighter-rouge">setup</code>은 <code class="language-plaintext highlighter-rouge">beforeCreate</code>, <code class="language-plaintext highlighter-rouge">created</code> 라이프사이클 훅 사이에 실행되는 시점이므로, 명시적으로 정의할 필요가 없다.</p><p><br /></p><h2 id="3-teleport"><span class="mr-2">3. Teleport</span><a href="#3-teleport" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Vue는 UI 및 관련 동작을 컴포넌트로 캡슐화하여 UI를 구축하도록 권장한다. 그러나, 논리적으로 컴포넌트에 속하는 템플릿의 일부라도 기술적인 관점에서 보면 Vue 앱 범위를 벗어나 DOM의 다른 곳으로 템플릿의 일부를 옮기는 게 더 바람직할 때도 있다. <strong>ex) 모달 창</strong></p><p><br /></p><p>처음 vue로 프로젝트를 시작하면 index.html의 <code class="language-plaintext highlighter-rouge">&lt;div id="app"&gt;&lt;/div&gt;</code>태그에 모든 화면을 넣는다.</p><div class="language-html highlighter-rouge"><div class="code-header"> <span data-label-text="HTML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- 이곳에 vue로 만드는 모든 화면이 들어간다. --&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></table></code></div></div><p>만약 모달창을 구현하면 현재 보이는 화면을 뚫고 최상위에 올라와야 하는데, 이는 프로젝트가 커질 수록 번거롭다. 그러나 teleport를 활용하면, 부모 컴포넌트의 DOM 계층 구조 바깥에 있는 DOM 노드로 자식을 렌더링 할 수 있게 된다.</p><p><br /></p><div class="language-vue highlighter-rouge"><div class="code-header"> <span data-label-text="Vue.js"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="nt">&lt;</span><span class="k">template</span><span class="nt">&gt;</span>
  <span class="nt">&lt;button</span> <span class="err">@</span><span class="na">click=</span><span class="s">"toggleModal"</span><span class="nt">&gt;</span> 모달 열기! <span class="nt">&lt;/button&gt;</span>
  
  <span class="c">&lt;!-- 이 HTML을 "body" 태그로 teleport 해라!! --&gt;</span> 
  <span class="nt">&lt;teleport</span> <span class="na">to=</span><span class="s">"body"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">v-if=</span><span class="s">"modal"</span> <span class="na">class=</span><span class="s">"modal"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;button</span> <span class="err">@</span><span class="na">click=</span><span class="s">"toggleModal"</span><span class="nt">&gt;</span> 모달 닫기! <span class="nt">&lt;/button&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/teleport&gt;</span> 
<span class="nt">&lt;/</span><span class="k">template</span><span class="nt">&gt;</span>

<span class="nt">&lt;</span><span class="k">script</span><span class="nt">&gt;</span>
  <span class="k">import</span> <span class="p">{</span><span class="nx">ref</span><span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span><span class="p">;</span>
    
  <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">setup</span><span class="p">(){</span>
      <span class="kd">const</span> <span class="nx">modal</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
      
      <span class="kd">const</span> <span class="nx">toggleModal</span> <span class="o">=</span> <span class="p">()</span><span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">modal</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="o">!</span><span class="nx">modal</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
      <span class="p">};</span>
        
      <span class="k">return</span> <span class="p">{</span>
        <span class="nx">modal</span><span class="p">,</span> 
        <span class="nx">toggleModal</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="nt">&lt;/</span><span class="k">script</span><span class="nt">&gt;</span>
</pre></table></code></div></div><p><br /></p><p><strong><code class="language-plaintext highlighter-rouge">[ modal off ]</code></strong></p><p><img data-src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/image-20220701183939581.png" data-proofer-ignore></p><p><br /> <strong><code class="language-plaintext highlighter-rouge">[ modal on ]</code></strong></p><p><img data-src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/image-20220701185331150.png" data-proofer-ignore></p><p><br /></p><h2 id="-참고문서"><span class="mr-2">📖 참고문서</span><a href="#-참고문서" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p><a href="https://v3.ko.vuejs.org/ko-kr/">공식문서</a></p><p><a href="https://kyounghwan01.github.io/blog/Vue/vue3/teleport/">vue teleport 관련 블로그 글 </a></p><p><br /></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/web/'>WEB</a>, <a href='/categories/vue/'>Vue</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/vue/" class="post-tag no-text-decoration" >vue</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EA%BC%AD-%EC%95%8C%EC%95%84%EC%95%BC-%ED%95%98%EB%8A%94-vue3-%EB%B3%80%EA%B2%BD%EC%82%AC%ED%95%AD-%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0+-+Hello%2C+World%21&url=https%3A%2F%2Fjaekp.github.io%2Fposts%2Fvue00%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%EA%BC%AD-%EC%95%8C%EC%95%84%EC%95%BC-%ED%95%98%EB%8A%94-vue3-%EB%B3%80%EA%B2%BD%EC%82%AC%ED%95%AD-%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0+-+Hello%2C+World%21&u=https%3A%2F%2Fjaekp.github.io%2Fposts%2Fvue00%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fjaekp.github.io%2Fposts%2Fvue00%2F&text=%EA%BC%AD-%EC%95%8C%EC%95%84%EC%95%BC-%ED%95%98%EB%8A%94-vue3-%EB%B3%80%EA%B2%BD%EC%82%AC%ED%95%AD-%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0+-+Hello%2C+World%21" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/mogodb01/">MongoDB-환경설정과-간단한-CRUD구현하기</a><li><a href="/posts/performance03/">실전-웹-성능-최적화-(feat. React)-Part2</a><li><a href="/posts/performance01/">실전-웹-성능-최적화-(feat. React)-Part1</a><li><a href="/posts/nft03/">03-Solidity-문법-기초</a><li><a href="/posts/nft04/">03-DApp-web3를-이용하여-이더리움과-상호작용하기</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/til/">til</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/vue/">vue</a> <a class="post-tag" href="/tags/cs/">cs</a> <a class="post-tag" href="/tags/django/">django</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/css/">css</a> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/moviewiki/">MovieWiki</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/vue01/"><div class="card-body"> <em class="timeago small" data-ts="1658156400" > 2022-07-19 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>vue3에서-타입스크립트로-vuex4-사용하기</h3><div class="text-muted small"><p> vue3환경에서 타입스크립트로 vuex를 사용하는 방법을 정리해보았다. 먼저, vuex4를 설치한다. 1 $ npm install vuex@next --save 1. 기본 준비 1) main.ts에 스토어를 세팅한다 1 2 3 4 5 6 7 import { createApp } from &quot;vue&quot;; import &quot;./style.css&quot;;...</p></div></div></a></div><div class="card"> <a href="/posts/vue02/"><div class="card-body"> <em class="timeago small" data-ts="1658502000" > 2022-07-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ERROR-Vue3-CompositionAPI에서-동적-컴포넌트-사용하는-방법</h3><div class="text-muted small"><p> 😥 문제 상황 회원 관리 기능을 구현하면서 비밀번호 찾기 view에서 사용자의 진행 단계에 따라 컴포넌트가 변경되어 보여주는 페이지를 만들고 있는 중에 오류가 발생했다. 간단하게 동적 컴포넌트를 활용하여 구현하려 했으나, 기존의 Vue2 방식으로 동적 컴포넌트를 설정했더니 작동이 되지 않는 오류가 발생했다. 작동이 되지 않는 코드는 다음과 같다. ...</p></div></div></a></div><div class="card"> <a href="/posts/vue03/"><div class="card-body"> <em class="timeago small" data-ts="1658847600" > 2022-07-27 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ERROR-Vue3-router에서-네비게이션-가드-설정하는-방법</h3><div class="text-muted small"><p> 네비게이션 가드 공식문서 네비게이션 가드란 특정 페이지를 보호하기 위해 사용하는 방법으로서 URL의 접근을 제한하는 것을 의미한다. 😥 문제 상황 로그인을 하지 않은 유저: 개인 정보 수정, 회원 탈퇴 페이지에 접근을 못한다. 로그인을 한 유저: 로그인, 회원가입 페이지에 접근을 못한다. 회원 관리...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/computerstructure02/" class="btn btn-outline-primary" prompt="Older"><p>컴퓨터구조-디지털-부품</p></a> <a href="/posts/computerstructure03/" class="btn btn-outline-primary" prompt="Newer"><p>컴퓨터구조-데이터의-표현</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/JaeKP">박재경</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/til/">til</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/vue/">vue</a> <a class="post-tag" href="/tags/cs/">cs</a> <a class="post-tag" href="/tags/django/">django</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/css/">css</a> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/moviewiki/">MovieWiki</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
